{"version":3,"sources":["chart.jsx","search.jsx","weatherApp.jsx","index.js"],"names":["Chart","state","data","isDataLoaded","loadData","weatherData","props","stringify","JSON","readableData","parse","setState","changeBackground","bg","document","body","fetch","weather","main","mode","then","response","json","console","log","src","id","style","backgroundImage","this","alt","icon","temp","toFixed","name","feels_like","temp_min","temp_max","coord","lon","lat","React","Component","Search","sendData","callbackFromParent","value","city","handleChange","event","target","handleSubmit","searchCity","preventDefault","a","cod","renderChart","alert","ReactDOM","render","getElementById","onSubmit","type","onChange","WeatherApp","getWeatherData"],"mappings":"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","file":"static/js/main.67d12d19.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\n\r\nclass Chart extends React.Component {\r\n\r\n    state = {\r\n        data: 'weatherData',\r\n        isDataLoaded: false,\r\n    }\r\n\r\n    loadData = () => {\r\n        \r\n        let weatherData = this.props.weatherData;    \r\n        let stringify = JSON.stringify(weatherData)  \r\n        let readableData = JSON.parse(stringify);\r\n        this.setState({data: readableData})\r\n        }\r\n\r\n\r\n    changeBackground = (weatherData) => {\r\n        let bg = document.body;\r\n        fetch('https://api.giphy.com/v1/gifs/translate?api_key=fv02luieIeS2OXhIndw5o2GTvN2QV78F&s=' + weatherData.weather[0].main + \"'\", {\r\n            mode: 'cors'})\r\n            .then(function(response){\r\n                return response.json();\r\n              })\r\n              .then(function(response){\r\n                console.log(response)\r\n                let src = \"https://media.giphy.com/media/\" + response.data.id + \"/giphy.gif\";\r\n                console.log(src);\r\n                bg.style.backgroundImage = \"url('\" + src + \"')\"\r\n              });\r\n    }\r\n    \r\n\r\n    render(){\r\n        const weatherData = this.props.weatherData; \r\n        // this.changeBackground(weatherData);\r\n\r\n        return(\r\n            <div id = \"chartContainer\">\r\n            <img id = \"weatherIcon\" alt = \"weather icon\" src={\"http://openweathermap.org/img/wn/\" + weatherData.weather[0].icon + \"@2x.png\"}></img>\r\n            <h1 id = \"temperature\">{(weatherData.main.temp - 273.15).toFixed(1) + \"ºC\"}</h1>\r\n            <h1 id = \"cityName\">{weatherData.name}</h1>\r\n            <span id = \"chartInfo\">\r\n            <p>{\"Feels like: \" + (weatherData.main.feels_like - 273.15).toFixed(1) + \"ºC\"}</p>\r\n            <p>{\"Min: \" + (weatherData.main.temp_min - 273.15).toFixed(1) + \"ºC\"}</p>\r\n            <p>{\"Max: \" + (weatherData.main.temp_max - 273.15).toFixed(1) + \"ºC\"}</p>\r\n            <p>{weatherData.coord.lon + \" \" + weatherData.coord.lat}</p>\r\n            </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Chart","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport Chart from './chart.jsx'\r\n\r\n\r\n\r\nclass Search extends React.Component {\r\n    sendData = (weatherData) => {\r\n        this.props.callbackFromParent(weatherData);    \r\n    }\r\n\r\n    state = {\r\n        value: 'Bilbao',\r\n        city: '',\r\n        data: '',\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        this.setState({value: event.target.value});\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        this.searchCity(this.state.value)\r\n        event.preventDefault();\r\n    }\r\n\r\n    searchCity = async (city) => {\r\n    let weatherData;\r\n    try {\r\n       let response = await fetch('http://api.openweathermap.org/data/2.5/weather?q=' + this.state.value + '&APPID=2ad37e6a88b79d8161e6455bdab3d1b2')\r\n       weatherData = await response.json();\r\n       if (weatherData.cod === \"404\") {return false}\r\n        else {console.log(weatherData);\r\n            this.sendData(weatherData)\r\n            let stringify = JSON.stringify(weatherData)  \r\n            let readableData = JSON.parse(stringify);\r\n            this.setState({data: readableData}) \r\n            await this.renderChart()}\r\n    } catch (err) {\r\n         console.log(\"ERROR\")\r\n         alert(err);\r\n         return false;\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    \r\n\r\n    renderChart = () => {\r\n        ReactDOM.render(<Chart weatherData={this.state.data} />, document.getElementById('charts'))\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n            <p>{this.props.weatherData}</p>\r\n            <form id =\"searchForm\" onSubmit={this.handleSubmit}>\r\n                <label>\r\n                <input id=\"input\" type=\"text\" value={this.state.value} onChange={this.handleChange}/></label><br/>\r\n                <input id=\"submit\" type=\"submit\" value=\"Find city\"/>\r\n              \r\n            </form>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport default Search","import React from 'react'\r\nimport Search from './search.jsx'\r\n// import Chart from './chart.jsx'\r\n\r\nclass WeatherApp extends React.Component {\r\n    state = {\r\n        data: '',\r\n    }\r\n\r\n\r\n\r\n    getWeatherData = (weatherData) => {\r\n        this.setState({data: weatherData})\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div id = \"container\">\r\n        <Search callbackFromParent={this.getWeatherData} />\r\n        <h1>{this.state.data.name}</h1>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  export default WeatherApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport WeatherApp from './weatherApp.jsx'\n// import Search from './search.jsx';\n// import Chart from './chart.jsx';\n\nReactDOM.render(\n  <WeatherApp />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}